{"version":3,"file":"onSubmitFnWoRefresh-e53943db.js","sources":["../../stories/Table/onSubmitFnWoRefresh.ts"],"sourcesContent":["import { ActionCrud, TableRef } from \"../../src\"\nimport { GeneratedData, createData, deleteData, getRandom, updateData } from \"../../test/mock\"\n\nexport const onSubmitFnWoRefresh = (data: Partial<GeneratedData>, action: ActionCrud, tableRef: TableRef | null): Promise<Partial<GeneratedData> | null> => {\n    console.log('onSubmitFn-data', data)\n    console.log('onSubmitFn-action', action)\n    return new Promise((resolve, reject) => {\n        tableRef?.setIsLoadingModal(true)\n\n        const actionFn = () => {\n\n            if (action === 'create') {\n                return createData(data, 230)\n            }\n\n            if (action === 'edit') {\n                return updateData(data, 230)\n            }\n\n            if (action === 'delete') {\n                if (!data.uuid) return Promise.reject('uuid is required')\n                return deleteData(data.uuid, 230)\n            }\n\n            return Promise.reject('Action not found')\n        }\n\n        actionFn()\n            .then((newData) => {\n                tableRef?.setShowModal(false)\n                resolve(newData)\n            })\n            .catch((err) => {\n                reject(err)\n            })\n            .finally(() => {\n                tableRef?.setIsLoadingModal(false)\n            })\n\n    })\n}"],"names":["onSubmitFnWoRefresh","data","action","tableRef","resolve","reject","createData","updateData","deleteData","newData","err"],"mappings":"uFAGO,MAAMA,EAAsB,CAACC,EAA8BC,EAAoBC,KAC1E,QAAA,IAAI,kBAAmBF,CAAI,EAC3B,QAAA,IAAI,oBAAqBC,CAAM,EAChC,IAAI,QAAQ,CAACE,EAASC,IAAW,CACpCF,GAAA,MAAAA,EAAU,kBAAkB,KAEX,IAETD,IAAW,SACJI,EAAWL,EAAM,GAAG,EAG3BC,IAAW,OACJK,EAAWN,EAAM,GAAG,EAG3BC,IAAW,SACND,EAAK,KACHO,EAAWP,EAAK,KAAM,GAAG,EADT,QAAQ,OAAO,kBAAkB,EAIrD,QAAQ,OAAO,kBAAkB,GAGnC,EACJ,KAAMQ,GAAY,CACfN,GAAA,MAAAA,EAAU,aAAa,IACvBC,EAAQK,CAAO,CAAA,CAClB,EACA,MAAOC,GAAQ,CACZL,EAAOK,CAAG,CAAA,CACb,EACA,QAAQ,IAAM,CACXP,GAAA,MAAAA,EAAU,kBAAkB,GAAK,CACpC,CAAA,CAER"}